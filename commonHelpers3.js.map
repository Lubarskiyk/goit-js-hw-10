{"version":3,"file":"commonHelpers3.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/flatpickr.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  position: 'center',\n  onClose(selectedDates) {\n    ckeckDate(selectedDates[0]);\n  },\n};\n\niziToast.settings({\n  timeout: 2500,\n  resetOnHover: true,\n  transitionIn: 'flipInX',\n  transitionOut: 'flipOutX',\n  position: 'center',\n  titleSize: 25,\n  messageSize: 25,\n  backgroundColor: 'rgba(255, 182, 66, 0.8)',\n});\n\nconst timerEl = {\n  daysEl: document.querySelector('[data-days]'),\n  hoursEl: document.querySelector('[data-hours]'),\n  minutesEl: document.querySelector('[data-minutes]'),\n  secondsEl: document.querySelector('[data-seconds]'),\n\n  clearTimer() {\n    this.daysEl.textContent = 'XX';\n    this.hoursEl.textContent = 'XX';\n    this.minutesEl.textContent = 'XX';\n    this.secondsEl.textContent = 'XX';\n  },\n  setTimer(timernew) {\n    this.daysEl.textContent = timernew.days.padStart(2, '0');\n    this.hoursEl.textContent = timernew.hours.padStart(2, '0');\n    this.minutesEl.textContent = timernew.minutes.padStart(2, '0');\n    this.secondsEl.textContent = timernew.seconds.padStart(2, '0');\n  },\n};\n\nconst inputDateEl = document.querySelector('#datetime-picker');\nconst buttonStartEl = document.querySelector('.button-start');\n\nbuttonStartEl.disabled = true;\ntimerEl.clearTimer();\n\nflatpickr('#datetime-picker', options);\n\nlet totalms = 0;\nlet MyTimer;\n\nfunction ckeckDate(userDate) {\n  totalms = userDate.getTime() - Date.now();\n  if (totalms <= 0) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please choose a date in the future',\n    });\n  } else activatedButtom();\n}\n\nfunction activatedButtom() {\n  inputDateEl.disabled = true;\n  buttonStartEl.disabled = false;\n  buttonStartEl.addEventListener('click', hanlerButtomStart);\n}\n\nfunction hanlerButtomStart() {\n  buttonStartEl.disabled = true;\n  MyTimer = setInterval(startTimer, 1000);\n}\n\nfunction startTimer() {\n  timerEl.setTimer(convertMs(totalms));\n  if (totalms >= 1000) {\n    totalms -= 1000;\n  } else {\n    timerEl.clearTimer();\n    inputDateEl.disabled = !inputDateEl.disabled;\n    clearInterval(MyTimer);\n  }\n}\n\nfunction convertMs(ms) {\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  const days = Math.floor(ms / day).toString();\n  const hours = Math.floor((ms % day) / hour).toString();\n  const minutes = Math.floor(((ms % day) % hour) / minute).toString();\n  const seconds = Math.floor(\n    (((ms % day) % hour) % minute) / second\n  ).toString();\n\n  return { days, hours, minutes, seconds };\n}\n"],"names":["options","selectedDates","ckeckDate","iziToast","timerEl","timernew","inputDateEl","buttonStartEl","flatpickr","totalms","MyTimer","userDate","activatedButtom","hanlerButtomStart","startTimer","convertMs","ms","days","hours","minutes","seconds"],"mappings":"2FAKA,MAAMA,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,SAAU,SACV,QAAQC,EAAe,CACrBC,EAAUD,EAAc,CAAC,CAAC,CAC3B,CACH,EAEAE,EAAS,SAAS,CAChB,QAAS,KACT,aAAc,GACd,aAAc,UACd,cAAe,WACf,SAAU,SACV,UAAW,GACX,YAAa,GACb,gBAAiB,yBACnB,CAAC,EAED,MAAMC,EAAU,CACd,OAAQ,SAAS,cAAc,aAAa,EAC5C,QAAS,SAAS,cAAc,cAAc,EAC9C,UAAW,SAAS,cAAc,gBAAgB,EAClD,UAAW,SAAS,cAAc,gBAAgB,EAElD,YAAa,CACX,KAAK,OAAO,YAAc,KAC1B,KAAK,QAAQ,YAAc,KAC3B,KAAK,UAAU,YAAc,KAC7B,KAAK,UAAU,YAAc,IAC9B,EACD,SAASC,EAAU,CACjB,KAAK,OAAO,YAAcA,EAAS,KAAK,SAAS,EAAG,GAAG,EACvD,KAAK,QAAQ,YAAcA,EAAS,MAAM,SAAS,EAAG,GAAG,EACzD,KAAK,UAAU,YAAcA,EAAS,QAAQ,SAAS,EAAG,GAAG,EAC7D,KAAK,UAAU,YAAcA,EAAS,QAAQ,SAAS,EAAG,GAAG,CAC9D,CACH,EAEMC,EAAc,SAAS,cAAc,kBAAkB,EACvDC,EAAgB,SAAS,cAAc,eAAe,EAE5DA,EAAc,SAAW,GACzBH,EAAQ,WAAU,EAElBI,EAAU,mBAAoBR,CAAO,EAErC,IAAIS,EAAU,EACVC,EAEJ,SAASR,EAAUS,EAAU,CAC3BF,EAAUE,EAAS,QAAS,EAAG,KAAK,IAAG,EACnCF,GAAW,EACbN,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oCACf,CAAK,EACIS,EAAe,CACxB,CAEA,SAASA,GAAkB,CACzBN,EAAY,SAAW,GACvBC,EAAc,SAAW,GACzBA,EAAc,iBAAiB,QAASM,CAAiB,CAC3D,CAEA,SAASA,GAAoB,CAC3BN,EAAc,SAAW,GACzBG,EAAU,YAAYI,EAAY,GAAI,CACxC,CAEA,SAASA,GAAa,CACpBV,EAAQ,SAASW,EAAUN,CAAO,CAAC,EAC/BA,GAAW,IACbA,GAAW,KAEXL,EAAQ,WAAU,EAClBE,EAAY,SAAW,CAACA,EAAY,SACpC,cAAcI,CAAO,EAEzB,CAEA,SAASK,EAAUC,EAAI,CAMrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAAE,WAC5BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAAE,WACtCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAAE,WACnDI,EAAU,KAAK,MAChBJ,EAAK,MAAO,KAAQ,IAAU,GAClC,EAAC,SAAQ,EAEV,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC"}